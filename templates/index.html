<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Calpalyn Instruction File Generator</title>
  <!-- Bulma CSS, Keen UI, Font Awesome, and Custom CSS -->
  <link href="{{ url_for('static', filename='css/bulma.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/keen-ui.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/base.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/font-awesome.min.css') }}" rel="stylesheet">
</head>

<body>

  <!-- Start of vform, mounted by VueJs -->
  <div id="vform">
    <ui-tabs v-cloak fullwidth>

      <!-- Landing Page -->
      <ui-tab title="Home">
        <box-container>
          <center><strong>About Calpalyn</strong></center>
          <br />
          <p>Descriptive paragraphs include details that appeal to the five senses: sight, taste, touch, smell, and hearing. In a descriptive paragraph, the writer must convey information that appeals to all the senses in order to give the best possible
            description to the reader. Descriptive paragraphs are commonly used in fiction and non-fiction writing to help immerse readers into the world of the author. Though there are no hard and fast rules for how exactly these paragraphs should be
            structured, there are several suggestions that can help you write an effective and appealing descriptive paragraph.</p>
        </box-container>
      </ui-tab>

      <!-- Main Graph Page -->
      <ui-tab title="Create Graph">

        <!-- Inputs -->
        <box-container>
          <!-- Section Select -->
          <div class="box">
            <h1 v-show="page <= maxPage && page >= minPage">
            <strong>Navigate Sections</strong>
            <select v-model="page" class="form-control">
                <option :value="pageNum" v-text="pageTitles[pageNum]" v-for="pageNum in maxPage"></option>
            </select>
          </h1>
            <br />
            <ui-button color="primary" raised v-on:click="submitForm()">
              <i class="fa fa-download fa-fw"></i> Generate File
            </ui-button>
            <br />
          </div>

          <h1 class="title"><strong>[[ pageTitles[page] ]]</strong></h1>
          <hr />

          <!-- Sections of Calpalyn -->
          <!-- Section 1 -->
          <div v-show="page === 1">
            <ui-textbox label="Graph Title" v-model="line25" placeholder="Enter a title"></ui-textbox>
            <ui-alert :dismissible="false">Enter the main title to appear above your graph.</ui-alert>

            <ui-textbox label="Vertical Label" v-model="line24" placeholder="Enter a label"></ui-textbox>
            <ui-alert :dismissible="false">Enter a label for the vertical axis (e.g. depth cm).</ui-alert>

            <ui-textbox label="Vertical Interval" v-model="line22Box3"></ui-textbox>
            <ui-alert :dismissible="false">Control the number on vertical axis (usually depths). Zero will automatically select a rounded interval every inch or enter a number to choose your own interval.</ui-alert>

            <ui-textbox label="Vertical Factor" v-model="line1Box2"></ui-textbox>
            <ui-alert :dismissible="false">This allows you to multiply the primary vertical axis (usually depths) by a factor. Use -1.0 so the graph plots right-side up if you are using depths or ages as positive numbers. Enter 1 to leave numbers alone.</ui-alert>

            <ui-textbox label="Graph Width" v-model="line22Box2"></ui-textbox>
            <ui-textbox label="Graph Height" v-model="line22Box1"></ui-textbox>
            <ui-alert :dismissible="false">Zero will automatically scale the graph to fit the page. A positive number sets the graph width/height in inches.</ui-alert>

            <ui-select label="Font Size" v-model="line21Box4" :options="['Standard', 'Enlarged']"></ui-select>
            <ui-alert :dismissible="false">Standard fonts are more likely to fit the page. Enlarged fonts are 12 point.</ui-alert>

            <ui-select label="Data Lines" v-model="line21Box1" :options="['Yes', 'No']"></ui-select>
            <ui-alert :dismissible="false">Generates horizontal dotted lines at data levels. They can be used to show the sampling interval.</ui-alert>
          </div>

          <!-- Section 2 -->
          <div v-show="page === 2">
            <ul>
              <label class="ui-fileupload-label-text">Data File</label>
              <li>
                <ui-fileupload raised @change="uploadDataFile" label="Choose a data file" color="primary" name="dataFile"></ui-fileupload>
              </li>
              <br />

              <label class="ui-fileupload-label-text">Taxa File</label>
              <li>
                <ui-fileupload raised @change="uploadTaxaFile" label="Choose a taxa file" color="primary" name="taxaFile"></ui-fileupload>
              </li>
              <br />
            </ul>

            <ui-alert :dismissible="false">
              You should leave the default options below unless you have a specific reason for making changes.
            </ui-alert>
            <br />

            <ui-select label="Data File Type" v-model="line1Box1" :options="['New', 'Old']"></ui-select>
            <ui-alert :dismissible="false">Old format data files were used in an earlier version.</ui-alert>

            <ui-select label="Text Labels" v-model="line13" :options="['Yes', 'No']"></ui-select>
            <ui-alert :dismissible="false">Use the labels from the taxa file to label the graph. Select no to use numbers from data file as labels.</ui-alert>
          </div>

          <!-- Section 3 -->
          <div v-show="page === 3">
            <ui-alert :dismissible="false">
              These sums can be used to normalize data. For example, they allow you to graph as a percent of total pollen or as a percent of non-aquatic pollen.
              <br />
              <br /> Without subtotals you can only graph raw data. You may add up to seven sums.
            </ui-alert>

            <h1 class="title"><Center>Add & Edit Sums<Center></h1>
            <table class="table is-bordered">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Sum</th>
                  <th>Edit</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td v-text="1"></td>
                  <td v-if="line3Box2.length === 0"><i>No Sum</i></td>
                  <td v-else v-text="sumNames[0]"></td>
                  <td>
                    <ui-button color="secondary" raised @click="currSumNum = '1'">Select</ui-button>
                  </td>
                </tr>
                <tr>
                  <td v-text="2"></td>
                  <td v-if="line3Box3.length === 0"><i>No Sum</i></td>
                  <td v-else v-text="sumNames[1]"></td>
                  <td>
                    <ui-button color="secondary" raised @click="currSumNum = '2'">Select</ui-button>
                  </td>
                </tr>
                <tr>
                  <td v-text="3"></td>
                  <td v-if="line3Box4.length === 0"><i>No Sum</i></td>
                  <td v-else v-text="sumNames[2]"></td>
                  <td>
                    <ui-button color="secondary" raised @click="currSumNum = '3'">Select</ui-button>
                  </td>
                </tr>
                <tr>
                  <td v-text="4"></td>
                  <td v-if="line3Box5.length === 0"><i>No Sum</i></td>
                  <td v-else v-text="sumNames[3]"></td>
                  <td>
                    <ui-button color="secondary" raised @click="currSumNum = '4'">Select</ui-button>
                  </td>
                </tr>
                <tr>
                  <td v-text="5"></td>
                  <td v-if="line3Box6.length === 0"><i>No Sum</i></td>
                  <td v-else v-text="sumNames[4]"></td>
                  <td>
                    <ui-button color="secondary" raised @click="currSumNum = '5'">Select</ui-button>
                  </td>
                </tr>
                <tr>
                  <td v-text="6"></td>
                  <td v-if="line3Box7.length === 0"><i>No Sum</i></td>
                  <td v-else v-text="sumNames[5]"></td>
                  <td>
                    <ui-button color="secondary" raised @click="currSumNum = '6'">Select</ui-button>
                  </td>
                </tr>
                <tr>
                  <td v-text="7"></td>
                  <td v-if="line3Box8.length === 0  "><i>No Sum</i></td>
                  <td v-else v-text="sumNames[6]"></td>
                  <td>
                    <ui-button color="secondary" raised @click="currSumNum = '7'">Select</ui-button>
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="box">
              <section class="section" v-show="currSumNum === '1'">
                <h1 class="title"><Center>Sum 1<Center></h1>
                <ui-textbox label="Sum Name" v-model="sumNames[0]"></ui-textbox>
                <ui-alert :dismissible="false">Enter a name for the sum.</ui-alert>

                <ui-select multiple has-search multiple-delimiter=", " label="Taxa to Sum" v-model="line3Box2" placeholder="Please select taxa" :options="taxaPos"></ui-select>
                <div class="container">
                  <ui-button color="secondary" raised @click="line3Box2 = taxaPos">Select All</ui-button>
                  <ui-button color="secondary" raised @click="line3Box2 = []">Clear</ui-button>
                </div>
                <br />
                <ui-alert :dismissible="false">Choose the taxa you want to sum.</ui-alert>
              </section>

              <section class="section" v-show="currSumNum === '2'">
                <h1 class="title"><Center>Sum 2<Center></h1>
                <ui-textbox label="Sum Name" v-model="sumNames[1]"></ui-textbox>
                <ui-alert :dismissible="false">Enter a name for the sum.</ui-alert>

                <ui-select multiple has-search multiple-delimiter=", " label="Taxa to Sum" v-model="line3Box3" placeholder="Please select taxa" :options="taxaPos"></ui-select>
                <div class="container">
                  <ui-button color="secondary" raised @click="line3Box3 = taxaPos">Select All</ui-button>
                  <ui-button color="secondary" raised @click="line3Box3 = []">Clear</ui-button>
                </div>
                <br />
                <ui-alert :dismissible="false">Choose the taxa you want to sum.</ui-alert>
              </section>

              <section class="section" v-show="currSumNum === '3'">
                <h1 class="title"><Center>Sum 3<Center></h1>
                <ui-textbox label="Sum Name" v-model="sumNames[2]"></ui-textbox>
                <ui-alert :dismissible="false">Enter a name for the sum.</ui-alert>

                <ui-select multiple has-search multiple-delimiter=", " label="Taxa to Sum" v-model="line3Box4" placeholder="Please select taxa" :options="taxaPos"></ui-select>
                <div class="container">
                  <ui-button color="secondary" raised @click="line3Box4 = taxaPos">Select All</ui-button>
                  <ui-button color="secondary" raised @click="line3Box4 = []">Clear</ui-button>
                </div>
                <br />
                <ui-alert :dismissible="false">Choose the taxa you want to sum.</ui-alert>
              </section>

              <section class="section" v-show="currSumNum === '4'">
                <h1 class="title"><Center>Sum 4<Center></h1>
                <ui-textbox label="Sum Name" v-model="sumNames[3]"></ui-textbox>
                <ui-alert :dismissible="false">Enter a name for the sum.</ui-alert>

                <ui-select multiple has-search multiple-delimiter=", " label="Taxa to Sum" v-model="line3Box5" placeholder="Please select taxa" :options="taxaPos"></ui-select>
                <div class="container">
                  <ui-button color="secondary" raised @click="line3Box5 = taxaPos">Select All</ui-button>
                  <ui-button color="secondary" raised @click="line3Box5 = []">Clear</ui-button>
                </div>
                <br />
                <ui-alert :dismissible="false">Choose the taxa you want to sum.</ui-alert>
              </section>

              <section class="section" v-show="currSumNum === '5'">
                <h1 class="title"><Center>Sum 5<Center></h1>
                <ui-textbox label="Sum Name" v-model="sumNames[4]"></ui-textbox>
                <ui-alert :dismissible="false">Enter a name for the sum.</ui-alert>

                <ui-select multiple has-search multiple-delimiter=", " label="Taxa to Sum" v-model="line3Box6" placeholder="Please select taxa" :options="taxaPos"></ui-select>
                <div class="container">
                  <ui-button color="secondary" raised @click="line3Box6 = taxaPos">Select All</ui-button>
                  <ui-button color="secondary" raised @click="line3Box6 = []">Clear</ui-button>
                </div>
                <br />
                <ui-alert :dismissible="false">Choose the taxa you want to sum.</ui-alert>
              </section>

              <section class="section" v-show="currSumNum === '6'">
                <h1 class="title"><Center>Sum 6<Center></h1>
                <ui-textbox label="Sum Name" v-model="sumNames[5]"></ui-textbox>
                <ui-alert :dismissible="false">Enter a name for the sum.</ui-alert>

                <ui-select multiple has-search multiple-delimiter=", " label="Taxa to Sum" v-model="line3Box7" placeholder="Please select taxa" :options="taxaPos"></ui-select>
                <div class="container">
                  <ui-button color="secondary" raised @click="line3Box7 = taxaPos">Select All</ui-button>
                  <ui-button color="secondary" raised @click="line3Box7 = []">Clear</ui-button>
                </div>
                <br />
                <ui-alert :dismissible="false">Choose the taxa you want to sum.</ui-alert>
              </section>

              <section class="section" v-show="currSumNum === '7'">
                <h1 class="title"><Center>Sum 7<Center></h1>
                <ui-textbox label="Sum Name" v-model="sumNames[6]"></ui-textbox>
                <ui-alert :dismissible="false">Enter a name for the sum.</ui-alert>

                <ui-select multiple has-search multiple-delimiter=", " label="Taxa to Sum" v-model="line3Box8" placeholder="Please select taxa" :options="taxaPos"></ui-select>
                <div class="container">
                  <ui-button color="secondary" raised @click="line3Box8 = taxaPos">Select All</ui-button>
                  <ui-button color="secondary" raised @click="line3Box8 = []">Clear</ui-button>
                </div>
                <br />
                <ui-alert :dismissible="false">Choose the taxa you want to sum.</ui-alert>
              </section>
            </div>
          </div>

          <!-- Section 4 -->
          <div v-show="page === 4">
            <ui-alert :dismissible="false">
              Choose taxa you want to graph and choose formatting options.
            </ui-alert>

            <div class="box">
              <h1 class="title"><Center>Add & Edit Taxa to Graph<Center></h1>
              <table class="table is-bordered">
                <thead>
                  <tr>
                    <th>Taxon</th>
                    <th>Normalization Sum</th>
                    <th v-if="plots.length != 0">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr v-for="plot in plots">
                    <td v-text="plot.line20Box1"></td>
                    <td v-text="plot.line20Box3"></td>
                    <td>
                      <ui-button color="secondary" raised @click="changeRow(plot, plotFields, 'currPlot')">Edit</ui-button>
                      <ui-button color="secondary" raised @click="removeRow(plot, 'plots', 'currPlot')">Delete</ui-button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <section class="section">
                <ui-select has-search label="Taxon" v-model="line20Box1" placeholder="Please select an option" :options="taxaPos"></ui-select>
                <ui-alert :dismissible="false">Choose the taxon (i.e. a pollen type such as Pinus) you would like to plot.</ui-alert>

                <ui-select label="Plot Type" v-model="line20ABox6" placeholder="Please select an option" :options="['Sawtooth', 'Bar']"></ui-select>
                <ui-alert :dismissible="false">Choose how you would like to graph this taxon.</ui-alert>

                <ui-select has-search label="Normalization Sum" v-model="line20Box3" placeholder="Please select an option" :options="normalizationSums"></ui-select>
                <ui-alert :dismissible="false">Choose sum to be used for normalizing this taxon. If you want to graph as raw data, leave blank.</ui-alert>

                <ui-select label="Normalization Method" v-model="line20Box2" placeholder="Please select an option" :options="['Option 1', 'Option 2', 'Option 3', 'Option 4', 'Option 5', 'Option 6', 'Option 7', 'Option 8', 'Option 9']"></ui-select>
                <ui-alert :dismissible="false">Choose how you would you like to normalize this taxon.
                  <br />
                  <ul>
                    <li><strong>Option 1: </strong>Leave as raw data</li>
                    <li><strong>Option 2: </strong>Multiply taxon by 100 (allows expression of ratio data as percentages)</li>
                    <li><strong>Option 3: </strong>Divide by sum</li>
                    <li><strong>Option 4: </strong>Divide by sum plus taxon being graphed</li>
                    <li><strong>Option 5: </strong>Divide by sum minus taxon being graphed</li>
                    <li><strong>Option 6: </strong>Calculate percentage of sum</li>
                    <li><strong>Option 7: </strong>Calculate percentage of sum plus taxon being graphed</li>
                    <li><strong>Option 8: </strong>Calculate percentage of sum minus taxon being graphed</li>
                    <li><strong>Option 9: </strong>Multiply by sum</li>
                  </ul>
                </ui-alert>

                <ui-select label="Taxon Group" v-model="line20ABox2" placeholder="Please select an option" :options="['No Group', 'Trees', 'Shrubs', 'Herbs', 'Ferns', 'Aquatics', 'Herbs and Shrubs']"></ui-select>
                <ui-alert :dismissible="false">Make a selection if you want your graph to indicate taxon groups with labeled brackets at the top.</ui-alert>

                <ui-textbox label="Horizontal Scale" v-model="line20Box5"></ui-textbox>
                <ui-alert :dismissible="false">Enter the actual units for the horizontal interval. The smaller the number you enter the more space this taxon curve will take up. Getting this right can take sometrial and error. You may want to keep adjusting until all the taxa graphed
                  take up similar space or you may want to make all the horizontal intervals the same to make plots true to scale.</ui-alert>

                <ui-select label="Five Times Curve" v-model="line20Box4" placeholder="Please select an option" :options="['No', 'Yes']"></ui-select>
                <ui-alert :dismissible="false">The five times curve/bars can be used to make a taxon visible if the numbers are very small compared to another taxon on your graph.</ui-alert>

                <ui-textbox label="Horizontal Axis Label" v-model="line20Box6"></ui-textbox>
                <ui-alert :dismissible="false">Choose a label to place below the taxon being graphed. There is not enough room to place a label below every taxon graphed. It is best to use one or two labels that apply to several plotted taxa (e.g. % non-aquatic pollen).</ui-alert>

                <div v-show="line20ABox6 === 'Sawtooth'">
                  <h1 class="title">Sawtooth Options</h1>

                  <ui-select label="Curve Fill" v-model="line20ABox3" placeholder="Please select an option" :options="['None', 'Black', 'Lines', 'Greyscale']"></ui-select>
                  <ui-alert :dismissible="false">Decide how you want to shade in the area under your curves.</ui-alert>

                  <ui-select  v-show="line20ABox3 === 'Lines' || line20ABox3 === 'Greyscale'" label="Fill Density" v-model="line20ABox5" placeholder="Please select an option" :options="['0','1','2','3','4','5','6','7','8','9','10']"></ui-select>
                  <ui-alert  v-show="line20ABox3 === 'Lines' || line20ABox3 === 'Greyscale'" :dismissible="false">Choose the density of fill pattern for area under curve. Enter a number 0 (most dense/black) through 10 (least dense/white).</ui-alert>

                  <ui-textbox v-show="line20ABox3 === 'Lines'" label="Line Angel" v-model="line20ABox4"></ui-textbox>
                  <ui-alert v-show="line20ABox3 === 'Lines'" :dismissible="false">Choose angle of lines used to fill area under curve (e.g. 0 for horizontal, 45 for diagonal etc.).</ui-alert>

                </div>
              </section>
              <ui-button v-show="currPlot === undefined" color="primary" @click="addRow(plotFields, 'plots', 'currPlot')">Add Taxon to Graph</ui-button>
              <ui-button v-show="currPlot !== undefined" color="primary" @click="updateRow(currPlot, plotFields, 'plots', 'currPlot')">Apply Changes</ui-button>
            </div>
          </div>

          <!-- Section 5 -->
          <div v-show="page === 5">
            <ui-select vertical="true" :options="['Option 1', 'Option 2', 'Option 3']" v-model="line21Box3">Chronology Column</ui-select>
            <ui-alert :dismissible="false">Create a chronology column to show your age model.
              <br />
              <ul>
                <li><strong>Option 1:</strong> Do not draw chronology column</li>
                <li><strong>Option 2:</strong> Draw chronology column and merge it with any stratigraphy graphics at left of diagram</li>
                <li><strong>Option 3:</strong> Draw scaled chronology column with tick marks at fixed time intervals along the left side of the column</li>
              </ul>
            </ui-alert>

            <div v-show="line21Box3 !== 'Option 1'">
              <ui-textbox label="Chronology Label" v-model="line26A" placeholder="Enter a label"></ui-textbox>
              <ui-alert :dismissible="false">Enter a label to go below the chronology column (e.g. Cal years BP).</ui-alert>

              <ui-textbox label="Chronology Numbering" v-model="line22Box4"></ui-textbox>
              <ui-alert :dismissible="false">Enter 0 for a rounded interval approximately equal to one- fiftieth of your oldest date. Number labels are placed once every five tick marks. Enter a positive number to choose your own interval (spacing of ticks) in years.</ui-alert>

              <!-- Dates -->
              <div class="box">
                <h1 class="title"><Center>Add & Edit Dates<Center></h1>
                <table class="table is-bordered">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Depth</th>
                      <th v-if="dates.length != 0">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="date in dates">
                      <td v-text="date.line26Box3"></td>
                      <td v-text="date.line26Box1"></td>
                      <td>
                        <ui-button color="secondary" raised @click="changeRow(date, dateFields, 'currDate')">Edit</ui-button>
                        <ui-button color="secondary" raised @click="removeRow(date, 'dates', 'currDate')">Delete</ui-button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <section class="section">
                  <ui-textbox label="Date" v-model="line26Box3"></ui-textbox>
                  <ui-alert :dismissible="false">Enter date in years BP. Years since 1950 should by negative.</ui-alert>

                  <ui-textbox label="Midpoint Depth" v-model="line26Box1"></ui-textbox>
                  <ui-alert :dismissible="false">Enter the midpoint depth of the dated sample.</ui-alert>

                  <ui-textbox label="Vertical Thickness" v-model="line26Box2"></ui-textbox>
                  <ui-alert :dismissible="false">Enter the vertical thickness of the area sampled for date. This can be left blank.</ui-alert>

                  <ui-textbox label="Years Uncertainty" v-model="line26Box4"></ui-textbox>
                  <ui-alert :dismissible="false">Enter an error for date (integer). This can be left blank if you do not want to display errors on the column.</ui-alert>

                  <ui-textbox label="Substance Label" v-model="line26Box5"></ui-textbox>
                  <ui-alert :dismissible="false">Enter a label for the substance dated. This is usually left blank. </ui-alert>
                </section>
                <ui-button v-show="currDate === undefined" color="primary" @click="addRow(dateFields, 'dates', 'currDate')" :disabled="line26Box1 === '' || line26Box3 === ''">Add Date</ui-button>
                <ui-button v-show="currDate !== undefined" color="primary" @click="updateRow(currDate, dateFields, 'dates', 'currDate')" :disabled="line26Box1 === '' || line26Box3 === ''">Apply Changes</ui-button>
              </div>
            </div>
          </div>

          <!-- Section 6 -->
          <div v-show="page === 6">
            <ui-select vertical="true" :options="['Option 1', 'Option 2', 'Option 3']" v-model="line21Box2">Stratigraphy Column</ui-select>
            <ui-alert :dismissible="false">Create a column to show the stratigraphic zones in your core.
              <br />
              <ul>
                <li><strong>Option 1:</strong> Do not draw stratigraphy column</li>
                <li><strong>Option 2:</strong> Draw stratigraphy column and merge it with any chronology graphics at left of diagram</li>
                <li><strong>Option 3:</strong> Draw stratigraphy column, omit stratigraphy labels, and draw boxes with labels identifying each fill pattern below the diagram</li>
              </ul>
            </ui-alert>

            <!-- Zones -->
            <div v-show="line21Box2 !== 'Option 1'">
              <div class="box">
                <h1 class="title"><Center>Add & Edit Zones<Center></h1>
                <table class="table is-bordered">
                  <thead>
                    <tr>
                      <th>Position</th>
                      <th>Label</th>
                      <th v-if="zones.length != 0">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="zone in zones">
                      <td v-text="zone.line27Box1"></td>
                      <td v-text="zone.line27Box4"></td>
                      <td>
                        <ui-button color="secondary" raised @click="changeRow(zone, zoneFields, 'currZone')">Edit</ui-button>
                        <ui-button color="secondary" raised @click="removeRow(zone, 'zones', 'currZone')">Delete</ui-button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <section class="section">
                  <ui-textbox label="Upper Bound Position" v-model="line27Box1"></ui-textbox>
                  <ui-alert :dismissible="false">Enter a number for the upper position of this stratigraphic zone. Use same units as the first column of your data file (usually depths).</ui-alert>

                  <ui-select label="Boundary Type" v-model="line27Box2" placeholder="Please select an option" :options="['Invisible boundary (no line)', 'Single dashed line', 'Single solid line', 'Single jagged line (nonconformity)', 'Double jagged line (discontinuous core)']"></ui-select>
                  <ui-alert :dismissible="false">Choose the boundary line style.</ui-alert>

                  <ui-textbox label="Shading" v-model="line27Box3"></ui-textbox>
                  <ui-alert :dismissible="false">Numbers 0 through 10 indicate shades of grey; 0 is white, 10 is black. Numbers greater than 10 represent patterns.</ui-alert>

                  <ui-textbox label="Stratigraphy Label" v-model="line27Box4" placeholder="Enter a label"></ui-textbox>
                  <ui-alert :dismissible="false">Enter a text label for the stratigraphic zone.</ui-alert>
                </section>
                <ui-button v-show="currZone === undefined" color="primary" @click="addRow(zoneFields, 'zones', 'currZone')" :disabled="line27Box1 === '' || line27Box2 === ''">Add Zone</ui-button>
                <ui-button v-show="currZone !== undefined" color="primary" @click="updateRow(currZone, zoneFields, 'zones', 'currZone')" :disabled="line27Box1 === '' || line27Box2 === ''">Apply Changes</ui-button>
              </div>
            </div>
          </div>

          <!-- Section 7 -->
          <div v-show="page === 7">
            <ui-select label="Draw Zonation Lines" v-model="line23Box1" :options="['Yes', 'No']"></ui-select>
            <ui-alert :dismissible="false">Use zonation lines to highlight periods of interest within graph. For instance, you could use lines to show cool and warm phases.</ui-alert>

            <!-- Lines -->
            <div v-show="line23Box1 == 'Yes'">
              <div class="box">
                <h1 class="title"><Center>Add & Edit Lines<Center></h1>
                <table class="table is-bordered">
                  <thead>
                    <tr>
                      <th>Position</th>
                      <th>Type</th>
                      <th v-if="lines.length != 0">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="line in lines">
                      <td v-text="line.line30Box1"></td>
                      <td v-text="line.line30Box2"></td>
                      <td>
                        <ui-button color="secondary" raised @click="changeRow(line, lineFields, 'currLine')">Edit</ui-button>
                        <ui-button color="secondary" raised @click="removeRow(line, 'lines', 'currLine')">Delete</ui-button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <section class="section">
                  <ui-textbox label="Line Position" v-model="line30Box1"></ui-textbox>
                  <ui-alert :dismissible="false"> Enter a number for the position of this zone line. Use same units as the first column of your data file (usually depths). Start at the top and work down.</ui-alert>

                  <ui-select label="Boundary Type" v-model="line30Box2" placeholder="Please select an option" :options="['Zone', 'Subzone']"></ui-select>
                  <ui-alert :dismissible="false">Choose a boundary type. Zones are solid lines. Subzones are dashed lines. </ui-alert>
                </section>
                <ui-button v-show="currLine === undefined" color="primary" @click="addRow(lineFields, 'lines', 'currLine')" :disabled="line30Box1 === '' || line30Box2 === ''">Add Line</ui-button>
                <ui-button v-show="currLine !== undefined" color="primary" @click="updateRow(currLine, lineFields, 'lines', 'currLine')" :disabled="line30Box1 === '' || line30Box2 === ''">Apply Changes</ui-button>
              </div>
            </div>
          </div>
          <!-- End Pages for Calpalyn -->

          <!-- Forward / Back -->
          <br>
          <div v-if="page < maxPage && page > 1">
            <ui-button raised v-on:click="previousPage" class="button">Previous</ui-button>
            <ui-button raised v-on:click="nextPage" class="button">Next</ui-button>
          </div>
          <div v-else-if="page == maxPage">
            <ui-button raised v-on:click="previousPage" class="button">Previous</ui-button>
          </div>
          <div v-else-if="page == 1">
            <ui-button raised v-on:click="nextPage" class="button">Next</ui-button>
          </div>
          <!-- End Forward / Back -->

        </box-container>
      </ui-tab>
      <!-- End of Graphing Page -->

      <!-- Saved Graphs Page -->
      <ui-tab title="Load Graphs">
        <box-container>
          <h1 class="title">
            <strong>Saved Graphs</strong>
          </h1>
          <strong>Graphs</strong>
          <select v-model="loadedForm" class="select">
            <option v-for="f in formsData" :value="f" class="ui-select-option">[[ f.line25.toString() ]]</option>
          </select>
          <br />
          <br />
          <ui-button raised v-on:click="loadForm()" color="primary"> Load </ui-button>
        </box-container>
      </ui-tab>
      <!-- End Saved Graphs Page -->
    </ui-tabs>
    <!-- End of Tabs -->
    <footer class="footer">
      <div class="container">
        <div class="content has-text-centered">
          <p>
            <strong>Calpalyn Instruction File Generator</strong> by Marcel Champagne</a>. Icons provided by <a href="https://icons8.com/">Icons8</a> and <a href="http://fontawesome.io/">Font Awesome</a>.
          </p>
          <p>
            <a class="icon" href="https://github.com/mnaircckel/calpalyn-web-gen">
              <i class="fa fa-github"></i>
            </a>
          </p>
        </div>
      </div>
    </footer>
  </div>
  <!-- End of vform -->
  <!--Axios -->
  <script src="{{ url_for('static', filename='js/axios.min.js') }}"></script>
  <!-- Vue and Keen UI -->
  <script src="{{ url_for('static', filename='js/vue.js') }}"></script>
  <script src="{{ url_for('static', filename='js/keen-ui.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>
