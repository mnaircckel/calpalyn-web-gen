<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Calpalyn Instruction File Generator</title>
    <!-- Bulma CSS, Keen UI, Custom CSS -->
    <link href="{{ url_for('static', filename='bulma.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='keen-ui.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='base.css') }}" rel="stylesheet">

</head>

<body>
    <div id="vform" class="vform">
        <div class="columns">
            <div class="column is-2 hero is-light box stuck">
                <aside class="menu">
                    <a class="nav-item is-tab is-active">Calpalyn</a>
                    <a class=" nav-item is-tab" v-on:click="loadFormsPage()">Saved Graphs</a>
                    <a class=" nav-item is-tab" v-on:click="page = 1">Current Graph</a>
                    <br>
                    <a class="button is-primary nav-item is-tab" v-on:click="submitForm()">Save and Generate</a>
                </aside>
            </div>
            <div class="column">
                <section class="hero is-fullheight is-light is-bold">
                    <div class="hero-body">
                        <div class="container">
                            <div class="columns is-vcentered">
                                <div class="column is-4 is-offset-4">

                                    <!-- Page Select -->
                                    <h1 class="title" v-show="page <= maxPage && page >= minPage">
                                        Section
                                        <select v-model="page" class="form-control">
                                            <option :value="pageNum" v-text="pageNum" v-for="pageNum in maxPage"></option>
                                        </select>
                                    </h1>

                                    <h1 class="title" v-show="page === undefined">
                                        Saved Graphs
                                    </h1>

                                    <div class="box">

                                        <!-- Saved Forms Page -->
                                        <div v-show="page === undefined">
                                            <label class="label">Graphs</label>
                                            <select v-model="loadedForm" class="select ui-select">
                                                <option v-for="option in formsData" :value="option" class="ui-select-option">[[ option.field1.toString() ]]</option>
                                            </select>
                                            <br>
                                            <button type="button" v-on:click="loadForm()" class="button is-primary"> Load </button>
                                        </div>

                                        <!-- Pages for Calpalyn -->
                                        <div v-show="page === 1 || page === maxPage">
                                            <ui-textbox label="Name" v-model="field1" placeholder="Enter name"></ui-textbox>
                                            <ui-select label="File Type" v-model="field2" placeholder="Please select one" :options="['Old','New']"></ui-select>
                                            <ui-select multiple label="Taxon" v-model="taxon" :options="['Abies','Fir']" has-search></ui-select>

                                        </div>
                                        
                                        <div v-show="page === 2 || page === maxPage">
                                            <ui-textbox label="Field Three" v-model="field3" placeholder="Enter field"></ui-textbox>
                                            <ui-textbox label="Field Four" v-model="field4" placeholder="Enter field"></ui-textbox>
                                            <ui-textbox label="Field Five" v-model="field5" placeholder="Enter field"></ui-textbox>
                                        </div>

                                        <div v-show="page === 3 || page === maxPage">
                                            <ui-textbox label="Field Six" v-model="field6" placeholder="Enter field"></ui-textbox>
                                            <ui-textbox label="Field Seven" v-model="field7" placeholder="Enter field"></ui-textbox>
                                            <ui-textbox label="Field Eight" v-model="field8" placeholder="Enter field"></ui-textbox>
                                        </div>
                                        <!-- End Pages for Calpalyn -->

                                        <!-- Forward / Back -->
                                        <br>
                                        <div v-if="page < maxPage && page > 1">
                                            <button type="button" v-on:click="previousPage" class="button">Previous</button>
                                            <button type="button" v-on:click="nextPage" class="button">Next</button>
                                        </div>
                                        <div v-else-if="page == maxPage">
                                            <button type="button" v-on:click="previousPage" class="button">Previous</button>
                                        </div>
                                        <div v-else-if="page == 1">
                                            <button type="button" v-on:click="nextPage" class="button">Next</button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <!--Axios -->
    <script src="{{ url_for('static', filename='axios.min.js') }}"></script>
    <!-- Vue and Keen UI -->
    <script src="{{ url_for('static', filename='vue.js') }}"></script>
    <script src="{{ url_for('static', filename='keen-ui.min.js') }}"></script>
    <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>

</html>
